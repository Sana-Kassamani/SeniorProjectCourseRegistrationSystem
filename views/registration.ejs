

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="main.css" rel="stylesheet">
</head>
<body>

<%- include ('NavBar.ejs') -%>
<div id="wrapper">
<%- include ('SideBar.ejs') -%>

<div id="page-content-wrapper">
        <div id="Registration">
            <h2 class="text-white">Registration</h2>
            <p>This is the registarion recommendation table using AI.</p>
            <br>
            <a href="/recommender" ><button type="button" class="btn btn-primary">AI Recommend</button></a>
            
            
            <% if (schedule) {%>
            <table class="table table-bordered border-dark">
              <thead class="table-dark"> <!--lazm naamil all colomns same width-->
                <tr>
                  <th></th>
                  <th>Monday</th>
                  <th>Tuesday</th>
                  <th>Wednesday</th>
                  <th>Thursday</th>
                  <th>Friday</th>
                </tr>
              </thead>
              <tbody>
                <% const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']; %>
        
                    <% // Determine unique time slots from data %>
                    <% const timeSlots = [...new Set(schedule.map(course => course.Time))].sort(); %>
        
                    <% timeSlots.forEach(slot => { %>
                      <tr>
                        <td><%= slot %></td>
                        <% daysOfWeek.forEach(day => { %>
                          <% const coursesForSlot = schedule.filter(course => course.Days.includes(day) && course.Time === slot); %>
                          <td>
                            <% if (coursesForSlot.length > 0) { %>
                              <% coursesForSlot.forEach(course => { %>
                                <span> <%= course.CourseCode %> <br></span>
                                <span> <%= course.CourseName %> <br></span>
                                <span> Section <%= course.SectionNumber %>  <br> <br></span>
                                
                              <% }); %>
                            <% } else { %>
                              <!-- No course scheduled -->
                            <% } %>
                          </td>
                        <% }); %>
                      </tr>
                    <% }); %>
              </tbody>
            </table>
            <% } %>
        </div>
         
</div>
</div>
<script src="sidebar.js"></script>
</body>